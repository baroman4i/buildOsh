{"version":3,"sources":["components/AdminContentItem/AdminContentItem.jsx","components/ChangeableImage/ChangeableImage.jsx","components/ChangeableContent/ChangeableContent.jsx","components/ChangeableContentContainer/ChangeableContentContainer.jsx","components/AdminSubItem/AdminSubItem.jsx","components/AdminThemeItem/AdminThemeItem.jsx","components/ThemeCount/ThemeCount.jsx","components/AdminDashboard/AdminDashboard.jsx","components/Header/Header.jsx","components/Slider/Slider.jsx","components/Themes/Themes.jsx","components/Dots/Dots.jsx","components/ShowplacesContainer/ShowplacesContainer.jsx","components/UI/DefLink.jsx","components/Main/Main.jsx","components/ContentInput/ContentInput.jsx","components/More/More.jsx","components/Navigation/Navigation.jsx","components/AuthForm/AuthForm.jsx","components/BaseComp/BaseComp.jsx","App.js","index.js"],"names":["AdminContentItem","content","className","width","height","src","img","alt","text","panorama","video","ChangeableImage","el","type","setArray","dragStart","e","preventDefault","stopPropagation","themes","onDragStart","onDragLeave","dragLeave","onDragOver","onDrop","file","dataTransfer","files","formData","FormData","append","JSON","stringify","fetch","method","body","then","response","json","data","catch","error","console","alert","onDropHandler","draggable","ChangeableContent","index","setCurrentData","sub","currentContent","setCurrentContent","changeContent","prev","map","c","i","target","value","log","dragStartHandler","style","boxShadow","dragLeaveHandler","onDragEnd","dragEndHandler","dragOverHandler","s","dropHandler","onClick","window","confirm","filter","onChange","placeholder","ChangeableContentContainer","currentData","React","useState","Date","now","AdminSubItem","setThemes","isActive","setActive","isChangeable","setChangeable","undoСhanges","deleteSub","headers","theme","subtopics","includes","topic","id","name","path","a","err","deleteSubImage","array","addContent","AdminThemeItem","currentBoard","setCurrentBoard","currentSub","setCurrentSub","saveAllChanges","currentTheme","setCurrentTheme","currentTarget","undefined","currentIndex","indexOf","splice","dropIndex","b","deleteTheme","t","result","push","dropCardHandler","saveChanges","backgroundImage","createSubItem","deleteThemeImage","length","themeId","ThemeCount","reduce","previousValue","currentValue","countSubs","countContent","AdminDashboard","setLogged","isLoading","setLoading","exitHandler","a1","a2","onLoad","toString","arr","Header","Slider","activeEl","setActiveEl","setActivePlace","left","place","substr","Themes","setActiveTheme","activeTheme","Dots","reg","Math","floor","Showplaces","activePlace","DefLink","children","href","Main","setActivePlaceContent","ShowplacesContainer","ContentInput","activePlaceContent","contentInput","useMemo","title","frameborder","allow","allowfullscreen","loading","More","replace","Navigation","setLoad","filteredArray","setFilteredArray","htmlFor","toLowerCase","some","search","it","setTheme","is","indexTheme","indexSub","setSub","AuthForm","pass","Fragment","action","enctype","onSubmit","login","BaseComp","useEffect","Theme","Place","Content","App","isLogged","addEventListener","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d731d0e1.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nfunction AdminContentItem({ content }) {\r\n  return (\r\n    <div className=\"content-item\">\r\n      <div className=\"img-container\">\r\n        <img width=\"80\" height=\"70\" src={content.img} alt=\"Изображение не найдено\" />\r\n      </div>\r\n      <div className=\"content-info\">\r\n        <h4>{content.text}</h4>\r\n        <h4>{content.panorama || \"\"}</h4>\r\n        <h4>{content.video || \"\"}</h4>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AdminContentItem;\r\n","import React from \"react\";\r\n\r\nfunction ChangeableImage({el, type, setArray, themes}) {\r\n  function dragStart(e) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n  }\r\n  function dragLeave(e) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n  }\r\n  function onDropHandler(e, el, type) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    let file = e.dataTransfer.files[0];\r\n    if (file.type === \"image/jpeg\" || file.type === \"image/png\" || file.type === \"image/avif\") {\r\n      const formData = new FormData();\r\n      formData.append(\"img\", file);\r\n      if(type !== 'content') formData.append(\"element\", JSON.stringify(el));\r\n      else {\r\n        formData.append(\"element\", JSON.stringify(el[0]))\r\n        formData.append(\"parent\", JSON.stringify(el[1]))\r\n      }\r\n      formData.append(\"type\", type);\r\n      fetch(\r\n        `/image`,\r\n        {\r\n          method: \"POST\",\r\n          body: formData,\r\n        }\r\n        \r\n      )\r\n        .then((response) => response.json())\r\n        .then((data) => setArray(data))\r\n        .catch((error) => console.error(error));\r\n    }\r\n    else alert(\"Добавьте изображение jpeg/jpg/png/avif\")\r\n  }\r\n  return (\r\n    <div className=\"img-container\">\r\n      <div\r\n        className=\"drop-area\"\r\n        onDragStart={(e) => dragStart(e)}\r\n        onDragLeave={(e) => dragLeave(e)}\r\n        onDragOver={(e) => dragStart(e)}\r\n        onDrop={(e) => onDropHandler(e, el, type)}\r\n        draggable={true}\r\n      >\r\n        Перетащите изображение для добавления\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChangeableImage;\r\n","import React from \"react\";\r\nimport ChangeableImage from \"../ChangeableImage/ChangeableImage\";\r\n\r\nfunction ChangeableContent({\r\n  content,\r\n  index,\r\n  setCurrentData,\r\n  sub,\r\n  currentContent,\r\n  setCurrentContent,\r\n}) {\r\n  function deleteContent() {\r\n    const confirmDel = window.confirm(\r\n      \"Вы действительно хотите удалить эту карточку изображения?\"\r\n    );\r\n    if (confirmDel === true)\r\n      setCurrentData((prev) => ({\r\n        ...prev,\r\n        content: prev.content.filter((c, i) => i !== index),\r\n      }));\r\n  }\r\n\r\n  function deleteContentImage() {\r\n    setCurrentData((prev) => ({\r\n      ...prev,\r\n      content: prev.content.map((c) =>\r\n        c === content ? { ...content, img: null } : c\r\n      ),\r\n    }));\r\n  }\r\n\r\n  function changeContent(e, index) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    setCurrentData((prev) => ({\r\n      ...prev,\r\n      content: prev.content.map((c, i) =>\r\n        i === index ? { img: c.img, text: e.target.value } : c\r\n      ),\r\n    }));\r\n  }\r\n\r\n  function dragOverHandler(e) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    if (e.target.className === \"content-item\")\r\n      e.target.style.boxShadow = \"0 4px 3px gray\";\r\n  }\r\n\r\n  function dragLeaveHandler(e) {\r\n    if (e.target.className === \"content-item\")\r\n      e.target.style.boxShadow = \"2px 1px 2px rgb(230, 227, 227)\";\r\n  }\r\n\r\n  function dragStartHandler(e) {\r\n    e.stopPropagation();\r\n\r\n    if (e.target.className === \"content-item\") {\r\n      setCurrentContent(content);\r\n      console.log(e.target.className);\r\n    }\r\n  }\r\n\r\n  function dragEndHandler(e) {\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n    e.target.style.boxShadow = \"2px 1px 2px rgb(230, 227, 227)\";\r\n  }\r\n\r\n  function dropHandler(e, sub, content) {\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n    if (e.target.className === \"content-item\") {\r\n      console.log(content, currentContent);\r\n      e.target.style.boxShadow = \"2px 1px 2px rgb(230, 227, 227)\";\r\n      setCurrentData((s) => ({\r\n        ...s,\r\n        content: s.content.map((c) => {\r\n          if (c === content) {\r\n            console.log(\"content === c\");\r\n            return currentContent;\r\n          }\r\n          if (c === currentContent) {\r\n            return content;\r\n          }\r\n          return c;\r\n        }),\r\n      }));\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className=\"content-item\"\r\n      draggable=\"true\"\r\n      onDragStart={(e) => dragStartHandler(e)}\r\n      onDragLeave={(e) => dragLeaveHandler(e)}\r\n      onDragEnd={(e) => dragEndHandler(e)}\r\n      onDragOver={(e) => dragOverHandler(e)}\r\n      onDrop={(e) => dropHandler(e, sub, content)}\r\n    >\r\n      <div className=\"tool\">\r\n        <button onClick={() => deleteContent()}>❌</button>\r\n      </div>\r\n      {content.img ? (\r\n        <div className=\"img-container\">\r\n          <button className=\"del-btn\" onClick={() => deleteContentImage()}>\r\n            ❌\r\n          </button>\r\n          <img\r\n            width=\"80\"\r\n            height=\"70\"\r\n            src={content.img || null}\r\n            alt=\"Изображение не найдено\"\r\n          />\r\n        </div>\r\n      ) : (\r\n        <ChangeableImage el={[content, sub]} type=\"content\" />\r\n      )}\r\n      <div className=\"content-info\">\r\n        <input\r\n          key={index}\r\n          value={content.text || \"\"}\r\n          onChange={(e) => changeContent(e, index)}\r\n          placeholder=\"Image\"\r\n        />\r\n        <input\r\n          key={index}\r\n          value={content.panorama || \"\"}\r\n          placeholder=\"Panorama Hash\"\r\n          onChange={(e) => changeContent(e, index)}\r\n        />\r\n        <input\r\n          key={index}\r\n          value={content.video || \"\"}\r\n          placeholder=\"Video URL\"\r\n          onChange={(e) => changeContent(e, index)}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChangeableContent;\r\n","import React from 'react';\r\nimport ChangeableContent from \"../ChangeableContent/ChangeableContent\";\r\nfunction ChangeableContentContainer({currentData, sub, setCurrentData}) {\r\n  const [currentContent, setCurrentContent] = React.useState(null);\r\n  return <div className=\"content-container\">\r\n  {currentData.content.map((content, index) => (\r\n    <ChangeableContent\r\n      key={content.img || content.text || Date.now()}\r\n      content={content}\r\n      index={index}\r\n      setCurrentData={setCurrentData}\r\n      sub={sub}\r\n      currentContent={currentContent}\r\n      setCurrentContent={setCurrentContent}\r\n    />\r\n  ))}\r\n</div>;\r\n}\r\n\r\nexport default ChangeableContentContainer;\r\n","import React from \"react\";\r\nimport AdminContentItem from \"../AdminContentItem/AdminContentItem\";\r\nimport ChangeableContentContainer from \"../ChangeableContentContainer/ChangeableContentContainer\";\r\nimport ChangeableImage from \"../ChangeableImage/ChangeableImage\";\r\n\r\nfunction AdminSubItem({\r\n  setThemes,\r\n  sub,\r\n  onDragOver,\r\n  onDragLeave,\r\n  onDragStart,\r\n  onDragEnd,\r\n  onDrop,\r\n  setArray,\r\n  themes,\r\n}) {\r\n  const [isActive, setActive] = React.useState(false);\r\n  const [isChangeable, setChangeable] = React.useState(false);\r\n  const [currentData, setCurrentData] = React.useState(sub);\r\n\r\n  function saveChanges() {\r\n    setThemes((themes) =>\r\n      themes.map((theme) =>\r\n        theme.subtopics.includes(sub)\r\n          ? {\r\n              ...theme,\r\n              subtopics: theme.subtopics.map((topic) =>\r\n                topic.id === sub.id ? currentData : topic\r\n              ),\r\n            }\r\n          : theme\r\n      )\r\n    );\r\n    setChangeable((prev) => !prev);\r\n  }\r\n\r\n  function undoСhanges() {\r\n    setChangeable((prev) => !prev);\r\n    setCurrentData(sub);\r\n  }\r\n\r\n  function deleteSub() {\r\n    const confirmDel = window.confirm(\r\n      \"Вы действительно хотите удалить эту подтему?\"\r\n    );\r\n    if (confirmDel === true) {\r\n      fetch(\"/delsub\", {\r\n        method: \"POST\",\r\n        body: JSON.stringify({ sub: sub }),\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      });\r\n      setThemes((themes) =>\r\n        themes.map((theme) =>\r\n          theme.subtopics.includes(sub)\r\n            ? {\r\n                ...theme,\r\n                subtopics: theme.subtopics.filter(\r\n                  (topic) => topic.id !== sub.id\r\n                ),\r\n              }\r\n            : theme\r\n        )\r\n      );\r\n    }\r\n  }\r\n  function deleteSubImage(e, path) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n\r\n    const confirmDel = window.confirm(\r\n      \"Вы уверены что хотите удалить изобрадение? При удалении данные этого блока автоматически сохранятся\"\r\n    );\r\n    if (confirmDel === true) {\r\n      try {\r\n        fetch(\"/delimage\", {\r\n          method: \"POST\",\r\n          body: JSON.stringify({ img: path }),\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        })\r\n          .then((response) => response.json())\r\n          .then( async () => {\r\n            try {\r\n              await setCurrentData((prev) => ({ ...prev, img: null }));\r\n              // saveChanges()\r\n            } catch (error) {\r\n              console.log(error);\r\n            }\r\n          })\r\n          .catch((err) => {\r\n            setCurrentData((prev) => ({ ...prev, img: null }));\r\n            setThemes((prev) =>\r\n              prev.map((theme) =>\r\n                theme.subtopics.includes(sub)\r\n                  ? {\r\n                      ...theme,\r\n                      subtopics: theme.subtopics.map((topic) =>\r\n                        topic.id === sub.id ? currentData : topic\r\n                      ),\r\n                    }\r\n                  : theme\r\n              )\r\n            );\r\n          });\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    }\r\n  }\r\n  function addContent(e) {\r\n    e.preventDefault();\r\n    setCurrentData((prev) => ({\r\n      ...prev,\r\n      content: [\r\n        ...prev.content,\r\n        { img: null, video: null, panorama: null, text: null },\r\n      ],\r\n    }));\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {!isChangeable ? (\r\n        <div\r\n          onDragOver={onDragOver}\r\n          onDragLeave={onDragLeave}\r\n          onDragStart={onDragStart}\r\n          onDragEnd={onDragEnd}\r\n          onDrop={onDrop}\r\n          className={!isActive ? \"sub-item\" : \"sub-item active\"}\r\n          draggable=\"true\"\r\n        >\r\n          <div className=\"toolbar\">\r\n            <button onClick={() => setActive((prev) => !prev)}>\r\n              {!isActive ? \"Подробнее\" : \"Свернуть\"}\r\n            </button>\r\n            <button onClick={() => undoСhanges()}>Редактировать</button>\r\n            <button onClick={() => deleteSub()}>Удалить</button>\r\n          </div>\r\n          <label>Название подтемы</label>\r\n          <h3>{sub.name}</h3>\r\n          <label>Фоновое изображение подтемы</label>\r\n          {sub.img ? (\r\n            <div className=\"img-container\">\r\n              <img\r\n                width=\"80\"\r\n                height=\"70\"\r\n                src={sub.img}\r\n                alt=\"Изображение подтемы\"\r\n              />\r\n            </div>\r\n          ) : (\r\n            <ChangeableImage\r\n              el={sub}\r\n              type=\"sub\"\r\n              setArray={setArray}\r\n              array={themes}\r\n            />\r\n          )}\r\n          <label>Хеш карты подтемы</label>\r\n          <p>{sub.map}</p>\r\n          <label>Текст</label>\r\n          <p>{sub.text}</p>\r\n          <label>Изображения подтемы</label>\r\n          <div className=\"content-container\" draggable=\"false\">\r\n            {sub.content.map((content) => (\r\n              <AdminContentItem\r\n                key={content.img || content.text || Date.now()}\r\n                content={content}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div\r\n          className={\"sub-item active\"}\r\n          // onClick={() => setActive((prev) => !prev)}\r\n          // draggable=\"true\"\r\n        >\r\n          <div className=\"toolbar\">\r\n            <button onClick={() => saveChanges()}>Сохранить</button>\r\n            <button onClick={() => undoСhanges()}>Отменить</button>\r\n            <button onClick={() => deleteSub()}>Удалить</button>\r\n          </div>\r\n          <label>Название подтемы</label>\r\n          <input\r\n            type=\"text\"\r\n            onChange={(e) => {\r\n              setCurrentData((prev) => ({ ...prev, name: e.target.value }));\r\n            }}\r\n            value={currentData.name || \"\"}\r\n          />\r\n          <label>Фоновое изображение подтемы</label>\r\n          {currentData.img ? (\r\n            <div className=\"img-container\">\r\n              <button\r\n                className=\"del-btn\"\r\n                onClick={(e) => deleteSubImage(e, currentData.img)}\r\n              >\r\n                ❌\r\n              </button>\r\n              <img\r\n                width=\"80\"\r\n                height=\"70\"\r\n                src={currentData.img}\r\n                alt=\"Изображение подтемы\"\r\n              />\r\n            </div>\r\n          ) : (\r\n            <ChangeableImage\r\n              el={sub}\r\n              type=\"sub\"\r\n              setArray={setArray}\r\n              array={themes}\r\n            />\r\n          )}\r\n          <label>Хеш карты подтемы</label>\r\n          <input\r\n            type=\"text\"\r\n            value={currentData.map || \"\"}\r\n            onChange={(e) => {\r\n              setCurrentData((prev) => ({ ...prev, map: e.target.value }));\r\n            }}\r\n          />\r\n          <label>Текст</label>\r\n          <textarea\r\n            type=\"text\"\r\n            value={currentData.text || \"\"}\r\n            onChange={(e) => {\r\n              setCurrentData((prev) => ({ ...prev, text: e.target.value }));\r\n            }}\r\n          />\r\n          {/* <label>map data</label><p>{sub.map}</p> */}\r\n          <label>Изображения подтемы</label>\r\n          <button className=\"add-btn\" onClick={(e) => addContent(e)}>\r\n            Добавить карточку\r\n          </button>\r\n          <ChangeableContentContainer\r\n            currentData={currentData}\r\n            setThemes={setThemes}\r\n            sub={sub}\r\n            setCurrentData={setCurrentData}\r\n          />\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default AdminSubItem;\r\n","import React from \"react\";\r\nimport AdminSubItem from \"../AdminSubItem/AdminSubItem\";\r\nimport ChangeableImage from \"../ChangeableImage/ChangeableImage\";\r\n\r\nfunction AdminThemeItem({\r\n  theme,\r\n  themes,\r\n  setThemes,\r\n  currentBoard,\r\n  setCurrentBoard,\r\n  currentSub,\r\n  setCurrentSub,\r\n  setArray,\r\n  saveAllChanges,\r\n}) {\r\n  const [currentTheme, setCurrentTheme] = React.useState(theme);\r\n  const [isChangeable, setChangeable] = React.useState(false);\r\n  const [isActive, setActive] = React.useState(false);\r\n\r\n  function dragOverHandler(e) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    if (\r\n      (e.currentTarget.className === \"sub-item\" &&\r\n        currentSub.subtopics === undefined) ||\r\n      (e.currentTarget.className === \"theme-item\" &&\r\n        currentSub.subtopics !== undefined)\r\n    )\r\n      e.currentTarget.style.boxShadow = \"0 4px 3px gray\";\r\n  }\r\n\r\n  function dragLeaveHandler(e) {\r\n    if (\r\n      (e.currentTarget.className === \"sub-item\" &&\r\n        currentSub.subtopics === undefined) ||\r\n      (e.currentTarget.className === \"theme-item\" &&\r\n        currentSub.subtopics !== undefined)\r\n    )\r\n      e.currentTarget.style.boxShadow = \"2px 1px 2px rgb(230, 227, 227)\";\r\n  }\r\n\r\n  function dragStartHandler(e, theme, sub) {\r\n    e.stopPropagation();\r\n    if (\r\n      e.target.className === \"sub-item\" ||\r\n      e.target.className === \"theme-item\"\r\n    ) {\r\n      setCurrentBoard(theme);\r\n      setCurrentSub(sub);\r\n    }\r\n  }\r\n\r\n  function dragEndHandler(e) {\r\n    e.currentTarget.style.boxShadow = \"2px 1px 2px rgb(230, 227, 227)\";\r\n  }\r\n\r\n  function dropHandler(e, theme, sub) {\r\n    if (\r\n      e.currentTarget.className === \"sub-item\" ||\r\n      e.currentTarget.className === \"theme-item\"\r\n    )\r\n      e.currentTarget.style.boxShadow = \"2px 1px 2px rgb(230, 227, 227)\";\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n    if (\r\n      currentSub !== undefined &&\r\n      currentSub.subtopics === undefined &&\r\n      e.currentTarget.className === \"sub-item\"\r\n    ) {\r\n      const currentIndex = currentBoard.subtopics.indexOf(currentSub);\r\n      currentBoard.subtopics.splice(currentIndex, 1);\r\n      const dropIndex = theme.subtopics.indexOf(sub);\r\n      dropIndex < currentIndex\r\n        ? theme.subtopics.splice(dropIndex, 0, currentSub)\r\n        : theme.subtopics.splice(dropIndex + 1, 0, currentSub);\r\n      setThemes(\r\n        themes.map((b) => {\r\n          if (b.id === theme.id) {\r\n            return theme;\r\n          }\r\n          if (b.id === currentBoard.id) {\r\n            return currentBoard;\r\n          }\r\n          return b;\r\n        })\r\n      );\r\n    } else if (\r\n      currentSub.subtopics !== undefined &&\r\n      e.currentTarget.className === \"theme-item\"\r\n    ) {\r\n      const currentIndex = currentBoard.indexOf(currentSub);\r\n      currentBoard.splice(currentIndex, 1);\r\n      const dropIndex = theme.indexOf(sub);\r\n      dropIndex < currentIndex\r\n        ? theme.splice(dropIndex, 0, currentSub)\r\n        : theme.splice(dropIndex + 1, 0, currentSub);\r\n      setThemes(\r\n        themes.map((b) => {\r\n          if (b.id === theme.id) {\r\n            return theme;\r\n          }\r\n          if (b.id === currentBoard.id) {\r\n            return currentBoard;\r\n          }\r\n          return b;\r\n        })\r\n      );\r\n    }\r\n  }\r\n\r\n  function dropCardHandler(e, theme) {\r\n    theme.subtopics.push(currentSub);\r\n    const currentIndex = currentBoard.subtopics.indexOf(currentSub);\r\n    currentBoard.subtopics.splice(currentIndex, 1);\r\n    setThemes(\r\n      themes.map((b) => {\r\n        if (b.id === theme.id) {\r\n          return theme;\r\n        }\r\n        if (b.id === currentBoard.id) {\r\n          return currentBoard;\r\n        }\r\n        return b;\r\n      })\r\n    );\r\n  }\r\n\r\n  function createSubItem(theme) {\r\n    theme.subtopics.push({\r\n      id: Date.now(),\r\n      name: null,\r\n      backgroundImage: null,\r\n      img: null,\r\n      text: null,\r\n      content: [],\r\n      map: null,\r\n    });\r\n    setThemes((prev) => prev.map((t) => (t.id === theme.id ? theme : t)));\r\n  }\r\n  function deleteTheme(theme) {\r\n    const confirmDel = window.confirm(\r\n      \"Вы действительно хотите удалить эту тему?\"\r\n    );\r\n    if (confirmDel === true) {\r\n      setThemes((prev) => prev.filter((t) => t.id !== theme.id));\r\n      fetch(\"/deltheme\", {\r\n        method: \"POST\",\r\n        body: JSON.stringify({\r\n          id: theme.id,\r\n          array: themes.filter((t) => t.id !== theme.id),\r\n        }),\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      })\r\n        .then((result) => {\r\n          console.log(result);\r\n        })\r\n        // .then((response) => response.json())\r\n        // .then((arr) => {\r\n        //   setArray(arr);\r\n        //   setThemes(arr);\r\n        // })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  }\r\n  function saveChanges(currentTheme) {\r\n    setThemes((prev) =>\r\n      prev.map((t) => (t.id === theme.id ? currentTheme : t))\r\n    );\r\n    setChangeable(false);\r\n    // setCurrentTheme(theme);\r\n  }\r\n  function undoChanges() {\r\n    setChangeable(false);\r\n    setCurrentTheme(theme);\r\n  }\r\n\r\n  function deleteThemeImage(e, path) {\r\n    // e.preventDefault();\r\n    // e.stopPropagation();\r\n\r\n    const confirmDel = window.confirm(\r\n      \"Вы уверены что хотите удалить изобрадение? При удалении данные этого блока автоматически сохранятся\"\r\n    );\r\n    if (confirmDel === true) {\r\n      try {\r\n        fetch(\"/delimage\", {\r\n          method: \"POST\",\r\n          body: JSON.stringify({ img: path }),\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        })\r\n          .then(() => {\r\n            setThemes((prev) =>\r\n              prev.map((t) =>\r\n                t.id === theme.id ? { ...theme, backgroundImage: null } : t\r\n              )\r\n            );\r\n            // saveAllChanges(\r\n            //   themes.map((t) =>\r\n            //     t.id === theme.id ? { ...theme, backgroundImage: null } : t\r\n            //   )\r\n            // );\r\n          })\r\n          .catch((err) => {\r\n            setThemes((prev) =>\r\n              prev.map((t) =>\r\n                t.id === theme.id ? { ...theme, backgroundImage: null } : t\r\n              )\r\n            );\r\n            // saveAllChanges(\r\n            //   themes.map((t) =>\r\n            //     t.id === theme.id ? { ...theme, backgroundImage: null } : t\r\n            //   )\r\n            // );\r\n            console.error(err);\r\n          });\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div\r\n      onDragLeave={(e) => dragLeaveHandler(e)}\r\n      onDragStart={(e) => dragStartHandler(e, themes, theme)}\r\n      onDragEnd={(e) => dragEndHandler(e)}\r\n      draggable=\"true\"\r\n      onDragOver={(e) => dragOverHandler(e)}\r\n      onDrop={(e) =>\r\n        currentSub.subtopics === undefined\r\n          ? dropCardHandler(e, theme)\r\n          : dropHandler(e, themes, theme)\r\n      }\r\n      className=\"theme-item\"\r\n    >\r\n      <div className=\"toolbar\">\r\n        {!isChangeable ? (\r\n          <>\r\n            {!isActive ? (\r\n              <button onClick={() => setActive(true)}>Подробнее</button>\r\n            ) : (\r\n              <button onClick={() => setActive(false)}>Скрыть</button>\r\n            )}\r\n\r\n            <button onClick={() => setChangeable(true)}>Редактировать</button>\r\n            <button onClick={() => deleteTheme(theme)}>Удалить</button>\r\n            <button onClick={() => createSubItem(theme)}>\r\n              Добавить подтему\r\n            </button>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <button onClick={() => undoChanges()}>Отменить</button>\r\n            <button onClick={() => deleteTheme(theme)}>Удалить</button>\r\n            <button onClick={() => saveChanges(currentTheme)}>Сохранить</button>\r\n          </>\r\n        )}\r\n      </div>\r\n      {!isChangeable ? (\r\n        isActive ? (\r\n          <>\r\n            <label>Название темы</label>\r\n            <h2>{theme.name}</h2>\r\n            <label>Фоновое изображение темы</label>\r\n            <div className=\"img-container\">\r\n              <img\r\n                width=\"80\"\r\n                height=\"70\"\r\n                src={theme.backgroundImage}\r\n                alt=\"Изображение темы\"\r\n              />\r\n            </div>\r\n          </>\r\n        ) : (\r\n          <h2>{theme.name}</h2>\r\n        )\r\n      ) : (\r\n        <>\r\n          <label>Название темы</label>\r\n          <input\r\n            type=\"text\"\r\n            value={currentTheme.name || \"\"}\r\n            onChange={(e) => {\r\n              setCurrentTheme((prev) => ({ ...prev, name: e.target.value }));\r\n            }}\r\n          />\r\n          <label>Фоновое изображение темы</label>\r\n          {theme.backgroundImage ? (\r\n            <div className=\"img-container\">\r\n              <button\r\n                className=\"del-btn\"\r\n                onClick={(e) => deleteThemeImage(e, theme.backgroundImage)}\r\n              >\r\n                ❌\r\n              </button>\r\n              <img\r\n                width=\"80\"\r\n                height=\"70\"\r\n                src={theme.backgroundImage}\r\n                alt=\"Изображение темы\"\r\n              />\r\n            </div>\r\n          ) : (\r\n            <ChangeableImage\r\n              el={theme}\r\n              type=\"theme\"\r\n              setArray={setArray}\r\n              array={themes}\r\n            />\r\n          )}\r\n        </>\r\n      )}\r\n      <div\r\n        className=\"sub-container\"\r\n        // onDragOver={(e) => dragOverHandler(e)}\r\n        // onDrop={(e) => dropCardHandler(e, theme)}\r\n      >\r\n        {\" \"}\r\n        {theme.subtopics.length !== 0 ? (\r\n          theme.subtopics.map((sub, index) => (\r\n            <AdminSubItem\r\n              setThemes={setThemes}\r\n              key={sub.id}\r\n              sub={sub}\r\n              themeId={theme.id}\r\n              onDragOver={(e) => dragOverHandler(e)}\r\n              onDragLeave={(e) => dragLeaveHandler(e)}\r\n              onDragStart={(e) => dragStartHandler(e, theme, sub)}\r\n              onDragEnd={(e) => dragEndHandler(e)}\r\n              onDrop={(e) => dropHandler(e, theme, sub)}\r\n              setArray={setArray}\r\n              themes={themes}\r\n            />\r\n          ))\r\n        ) : (\r\n          <span>добавьте первый элемент</span>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AdminThemeItem;\r\n","import React from \"react\";\r\n\r\nfunction ThemeCount({ themes }) {\r\n  const [countSubs, setCountSubs] = React.useState(\r\n    themes.reduce(\r\n      (previousValue, currentValue) =>\r\n        (previousValue += currentValue.subtopics.length),\r\n      0\r\n    )\r\n  );\r\n  const [countContent, setCountContent] = React.useState(\r\n    themes.reduce(\r\n      (previousValue, currentValue) =>\r\n        (previousValue += currentValue.subtopics.reduce((previousValue, currentValue) =>\r\n        (previousValue += currentValue.content.length),\r\n      0)),\r\n      0\r\n    )\r\n  );\r\n  // setCountSubs(themes.reduce((previousValue = 0, currentValue) => {\r\n  //   return previousValue + currentValue.subtopics.length\r\n  // }))\r\n  // for (let index = 0, count = 0; index < themes.length; index++) {\r\n  //   count = count + themes[index].subtopics.length;\r\n  //   if(index === themes.length-1) setCountSubs(count)\r\n  // }\r\n  // const count\r\n  return (\r\n    <div className=\"count-contents\">\r\n      Всего: <span className=\"th\">{themes.length} тем</span> <span className=\"sub\">{countSubs} подтем</span> <span className=\"cont\">{countContent} карточек подтем</span>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ThemeCount;\r\n","import React from \"react\";\r\nimport AdminThemeItem from \"../AdminThemeItem/AdminThemeItem\";\r\nimport ThemeCount from \"../ThemeCount/ThemeCount\";\r\n\r\nfunction AdminDashboard({ array, setArray, setLogged }) {\r\n  const [themes, setThemes] = React.useState(array);\r\n  const [currentBoard, setCurrentBoard] = React.useState([]);\r\n  const [currentSub, setCurrentSub] = React.useState([]);\r\n  const [isLoading, setLoading] = React.useState(false);\r\n  // React.useEffect(() => {\r\n  //   return () => {\r\n  //     const data = JSON.parse()\r\n  //     setThemes(JSON.parse([]\r\n  //     ))\r\n  //   }\r\n  // }, [])\r\n  \r\n  // React.useEffect(() => {\r\n  //   setThemes(array);\r\n  //   setLoading(false);\r\n  // }, []);\r\n  function createTheme() {\r\n    // themes.unshift();\r\n    setThemes((prev) => [\r\n      {\r\n        id: Date.now().toString(),\r\n        name: null,\r\n        backgroundImage: null,\r\n        subtopics: [],\r\n      },\r\n      ...prev,\r\n    ]);\r\n  }\r\n  function compareArrays(a1, a2) {\r\n     if(JSON.stringify(a1) === JSON.stringify(a2)) {\r\n       return true\r\n     \r\n      }\r\n     else return false\r\n  }\r\n    \r\n    \r\n  function saveAllChanges(arr) {\r\n    const json = JSON.stringify(arr);\r\n    try {\r\n      fetch(\"/newarray\", {\r\n        method: \"POST\",\r\n        body: json,\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=utf-8\",\r\n        },\r\n      })\r\n        .then((data) => data.json())\r\n        .then((arr) => setArray(arr));\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n  function exitHandler() {\r\n    if (compareArrays(array, themes)) {\r\n      const exit = window.confirm(\r\n        \"Вы уверены что хотите выйти? Все несохранённые изменения не будут применены.\" ===\r\n          true)\r\n      if (exit)\r\n      setLogged(false);\r\n      else return\r\n    }\r\n    else setLogged(false);\r\n  }\r\n  return (\r\n    <div className=\"dashboard-container\" onLoad={() => setLoading(false)}>\r\n      <div className=\"toolbar\">\r\n        <button onClick={() => exitHandler()}>Выйти</button>\r\n        <button onClick={() => createTheme()}>Добавить тему</button>\r\n        <button\r\n          onClick={() => saveAllChanges(themes)}\r\n        >\r\n          Сохранить изменения\r\n        </button>\r\n        <ThemeCount themes={themes} />\r\n      </div>\r\n      {!isLoading && (\r\n        <div className=\"themes-container\">\r\n          {themes.map((theme) => (\r\n            <AdminThemeItem\r\n              key={theme.id}\r\n              theme={theme}\r\n              themes={themes}\r\n              setThemes={setThemes}\r\n              currentBoard={currentBoard}\r\n              setCurrentBoard={setCurrentBoard}\r\n              currentSub={currentSub}\r\n              setCurrentSub={setCurrentSub}\r\n              setArray={setThemes}\r\n              // saveAllChanges={saveAllChanges}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AdminDashboard;\r\n","import React from 'react'\r\n\r\nfunction Header() {\r\n  return (\r\n    <span className=\"logo\">\r\n      Культурно-исторические объекты Ошмянского района\r\n    </span>\r\n  )\r\n}\r\n\r\nexport default Header\r\n","import React from \"react\";\r\n\r\nfunction Slider({ array, activeEl, setActiveEl, setActivePlace }) {\r\n  return (\r\n    <div className=\"slider\">\r\n      <div\r\n        className=\"slider-cards\"\r\n        style={{ left: `calc(-100% / 3 * ${activeEl - 1})` }}\r\n      >\r\n        {array.map((place, i) => place !== undefined ? (\r\n          <div\r\n            onClick={() => {\r\n              if (typeof setActivePlace === \"function\") setActivePlace(() => 1);\r\n              setActiveEl(() => i);\r\n            }}\r\n            key={i}\r\n            className={i === activeEl ? \"slide-card active\" : \"slide-card\"}\r\n          >\r\n            {place.img ? (\r\n              <img src={place.img} alt={place.name || \"alt\"} />\r\n            ) : null}\r\n            <h3>{place.name || null}</h3>\r\n            {place.text !== null ? <h4>\r\n              {place.text !== undefined\r\n                ? place.text.substr(0, place.text.indexOf(\".\")) + \"...\"\r\n                : null}\r\n            </h4> : null}\r\n          </div>\r\n        ) : null)}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Slider;\r\n","import React from 'react'\r\nimport Slider from '../Slider/Slider'\r\nfunction Themes({setActiveTheme, themes, activeTheme, setActivePlace}) {\r\n  return (\r\n    <div className=\"themes\">\r\n      <Slider \r\n        activeEl={activeTheme} \r\n        setActiveEl={setActiveTheme} \r\n        array={themes}\r\n        setActivePlace={setActivePlace}\r\n      />\r\n    </div>\r\n  )\r\n}\r\nexport default Themes\r\n","import React from 'react'\r\n\r\nfunction Dots({themes, activeTheme, setActiveTheme, setActivePlace}) {\r\n  return (\r\n    <div className=\"dot-list\">\r\n      {themes.map((reg, i) => \r\n      <div \r\n        onClick={() => {\r\n          setActiveTheme(() => i)\r\n          setActivePlace(() => Math.floor(themes[i].subtopics.length/2))\r\n        }} \r\n        key={i} \r\n        className={i === activeTheme ? 'dot active' : 'dot'}\r\n        ></div>)}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Dots\r\n","import React from 'react'\r\nimport Slider from '../Slider/Slider'\r\nfunction Showplaces({themes, activeTheme, activePlace, setActivePlace}) {\r\n  return (\r\n    <div className=\"showplaces-container\">\r\n      <button \r\n        className=\"slide-btn\" \r\n        onClick={() => {\r\n        if (activePlace > 0) setActivePlace(() => activePlace-1)}}\r\n      > \t\r\n        &#8249;\r\n      </button>\r\n      <Slider \r\n        activeEl={activePlace} \r\n        setActiveEl={setActivePlace} \r\n        array={themes[activeTheme].subtopics}\r\n      />\r\n      <button \r\n        className=\"slide-btn\" \r\n        onClick={() => {\r\n        if (themes[activeTheme].subtopics.length-1 > activePlace) \r\n        setActivePlace(() => activePlace+1)}}\r\n      > \t\r\n        &#8250;\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Showplaces\r\n","import React from 'react'\r\n\r\nfunction DefLink({children, href, target}) {\r\n  return (\r\n    <a className='link-btn' href={href} target={target}>{children}</a>\r\n  )\r\n}\r\n\r\nexport default DefLink\r\n","import React from 'react'\r\nimport Header from '../Header/Header';\r\nimport Themes from '../Themes/Themes';\r\nimport Dots from '../Dots/Dots';\r\nimport ShowplacesContainer from '../ShowplacesContainer/ShowplacesContainer';\r\nimport DefLink from '../UI/DefLink';\r\nfunction Main({themes, activeTheme, setActiveTheme, activePlace, setActivePlace, setActivePlaceContent}) {\r\n  return (\r\n    <section className=\"main\" id=\"main\" style={themes[activeTheme].backgroundImage !== undefined ? {backgroundImage: `url(${themes[activeTheme].backgroundImage})`} : {backgroundImage: \"none\"}}>\r\n        <Header/>\r\n        <Themes \r\n          setActiveTheme={setActiveTheme} \r\n          themes={themes} \r\n          activeTheme={activeTheme} \r\n          setActivePlace={setActivePlace} \r\n          setActivePlaceContent={setActivePlaceContent}\r\n        />\r\n        <Dots \r\n          setActiveTheme={setActiveTheme} \r\n          themes={themes} \r\n          activeTheme={activeTheme} \r\n          setActivePlace={setActivePlace}\r\n        />\r\n        <ShowplacesContainer \r\n          themes={themes} \r\n          activeTheme={activeTheme} \r\n          activePlace={activePlace} \r\n          setActivePlace={setActivePlace} \r\n          setActivePlaceContent={setActivePlaceContent}\r\n        />\r\n        <DefLink href=\"#more\">Подробнее </DefLink>\r\n      </section>\r\n  )\r\n}\r\n\r\nexport default Main\r\n","import React from 'react'\r\n\r\nfunction ContentInput({themes, activeTheme, activePlace, activePlaceContent}) {\r\n  console.log(activeTheme, activePlace, activePlaceContent);\r\n  const contentInput = React.useMemo(() => {\r\n    if (themes[activeTheme].subtopics[activePlace].content[activePlaceContent] !== undefined && themes[activeTheme].subtopics[activePlace].content[activePlaceContent].video) {\r\n        return <iframe src={`${themes[activeTheme].subtopics[activePlace].content[activePlaceContent].video}`} title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\r\n    }\r\n    else if (themes[activeTheme].subtopics[activePlace].content[activePlaceContent] !== undefined && themes[activeTheme].subtopics[activePlace].content[activePlaceContent].panorama) {\r\n        return <iframe src={`https://www.google.com/maps/embed?pb=${themes[activeTheme].subtopics[activePlace].content[activePlaceContent].panorama}`} title=\"panorams\" allowfullscreen=\"\" loading=\"lazy\"></iframe>\r\n    }\r\n    else {\r\n        return <img src={themes[activeTheme].subtopics[activePlace].content[activePlaceContent] !== undefined ? themes[activeTheme].subtopics[activePlace].content[activePlaceContent].img : null} alt={themes[activeTheme].subtopics[activePlace].content[activePlaceContent] !== undefined ? themes[activeTheme].subtopics[activePlace].content[activePlaceContent].text : null}></img>\r\n    }\r\n  }, [activeTheme, activePlace, activePlaceContent, themes])\r\n  return (\r\n    <div>\r\n      {contentInput}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ContentInput\r\n","import React from \"react\";\r\nimport Slider from \"../Slider/Slider\";\r\nimport DefLink from \"../UI/DefLink\";\r\nimport ContentInput from \"../ContentInput/ContentInput\";\r\nfunction More({\r\n  themes,\r\n  activeTheme,\r\n  activePlace,\r\n  activePlaceContent,\r\n  setActivePlaceContent,\r\n}) {\r\n  return (\r\n    <>\r\n      {themes[activeTheme].subtopics[activePlace] !== undefined ? (\r\n        <section\r\n          className=\"more\"\r\n          id=\"more\"\r\n          style={{\r\n            backgroundImage: `url(${themes[activeTheme].subtopics[activePlace].img})`,\r\n          }}\r\n        >\r\n          <div className=\"text-content\">\r\n            <h2>{themes[activeTheme].subtopics[activePlace].name}</h2>\r\n            <p>{themes[activeTheme].subtopics[activePlace].text}</p>\r\n            <div className=\"links\">\r\n              <DefLink\r\n                href={`https://www.google.com/maps/search/${themes[activeTheme].subtopics[activePlace].name},+Ошямнский+район`.replace(\r\n                  / /gi,\r\n                  \"+\"\r\n                )}\r\n                target=\"_blank\"\r\n              >\r\n                Просмотреть на карте\r\n              </DefLink>\r\n              <DefLink href=\"#main\">Вернуться к темам</DefLink>\r\n            </div>\r\n            <div className=\"map\">\r\n              <iframe\r\n                title=\"map\"\r\n                src={\r\n                  \"https://www.google.com/maps/embed?pb=\" +\r\n                  themes[activeTheme].subtopics[activePlace].map\r\n                }\r\n                allowfullscreen=\"\"\r\n                loading=\"lazy\"\r\n              ></iframe>\r\n            </div>\r\n          </div>\r\n          <div className=\"media-content\">\r\n            <h3>Архивные материалы</h3>\r\n            <div className=\"media-input\">\r\n              <ContentInput\r\n                themes={themes}\r\n                activeTheme={activeTheme}\r\n                activePlace={activePlace}\r\n                activePlaceContent={activePlaceContent}\r\n              />\r\n            </div>\r\n            <span className=\"media-input-text\">\r\n              {themes[activeTheme].subtopics[activePlace].content[\r\n                activePlaceContent\r\n              ] !== undefined\r\n                ? themes[activeTheme].subtopics[activePlace].content[\r\n                    activePlaceContent\r\n                  ].text\r\n                : null}\r\n            </span>\r\n            <Slider\r\n              activeEl={activePlaceContent}\r\n              setActiveEl={setActivePlaceContent}\r\n              array={themes[activeTheme].subtopics[activePlace].content}\r\n            />\r\n          </div>\r\n        </section>\r\n      ) : null}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default More;\r\n","import React from \"react\";\r\n\r\nfunction Navigation({\r\n  themes,\r\n  setActiveTheme,\r\n  setActivePlace,\r\n  setActivePlaceContent,\r\n  setLoad,\r\n}) {\r\n  const [filteredArray, setFilteredArray] = React.useState(themes);\r\n  function search(value = \"\") {\r\n    if (value !== \"\") {\r\n      setFilteredArray(\r\n        themes.map((theme) =>\r\n          (theme !== null &&\r\n            theme.name.toLowerCase().indexOf(value.toLowerCase()) !== -1) ===\r\n          true\r\n            ? theme\r\n            : theme.subtopics.some(\r\n                (topic) =>\r\n                  topic.name.toLowerCase().indexOf(value.toLowerCase()) !== -1\r\n              )\r\n            ? {\r\n                ...theme,\r\n                subtopics: theme.subtopics.filter(\r\n                  (sub) =>\r\n                    sub.name.toLowerCase().indexOf(value.toLowerCase()) !== -1\r\n                ),\r\n              }\r\n            : null\r\n        )\r\n      );\r\n    } else {\r\n      setFilteredArray(themes);\r\n    }\r\n  }\r\n  function setTheme(e, index) {\r\n    e.stopPropagation();\r\n    try {\r\n      setActivePlace(Math.floor(themes[index].subtopics.length / 2));\r\n      setActiveTheme(index);\r\n    } finally {\r\n      setLoad(false);\r\n    }\r\n  }\r\n  function setSub(e, indexTheme, indexSub) {\r\n    // e.preventDefault();\r\n    e.stopPropagation();\r\n    // setLoad(true)\r\n    try {\r\n      setActiveTheme(indexTheme);\r\n      setActivePlace(indexSub);\r\n      setActivePlaceContent(\r\n        Math.floor(themes[indexTheme].subtopics[indexSub].content.length / 2)\r\n      );\r\n    } finally {\r\n      setLoad(false);\r\n    }\r\n  }\r\n  return (\r\n    <div className=\"hamburger-menu\">\r\n      <input id=\"menu__toggle\" type=\"checkbox\" />\r\n      <label className=\"menu__btn\" htmlFor=\"menu__toggle\">\r\n        <span></span>\r\n      </label>\r\n      <div className=\"menu__box\">\r\n        <input\r\n          onChange={(e) => search(e.target.value)}\r\n          type=\"search\"\r\n          className=\"menu__search\"\r\n          placeholder=\"Поиск...\"\r\n        />\r\n        <div className=\"box__container\">\r\n          <div className=\"container-items\">\r\n            {filteredArray.map((theme, it) => \r\n                theme !== null ? (\r\n                  <li key={theme.id || Date.now()}>\r\n                    <a\r\n                      className=\"menu__item\"\r\n                      href=\"#main\"\r\n                      onClick={(e) => setTheme(e, it)}\r\n                    >\r\n                      {theme.name}\r\n                    </a>\r\n                    <ul>\r\n                        {theme.subtopics.map((sub, is) => (\r\n                          <li key={sub.id}>\r\n                            <a\r\n                              className=\"menu__item\"\r\n                              href=\"#more\"\r\n                              onClick={(e) => setSub(e, it, is)}\r\n                            >\r\n                              {sub.name}\r\n                            </a>\r\n                          </li>\r\n                        ))}\r\n                      </ul>\r\n                  </li>\r\n                ) : null\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Navigation;\r\n","import React from \"react\";\r\n\r\nfunction AuthForm({ setLogged }) {\r\n  const [isActive, setActive] = React.useState(false)\r\n  async function login(e) {\r\n    e.preventDefault();\r\n    fetch(\"/login\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify({\r\n        pass: e.target.pass.value,\r\n      }),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    })\r\n      .then((response) => response.json())\r\n      .then((result) => result === true ? setLogged(true) : null)\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  }\r\n  return (\r\n    <React.Fragment>\r\n      <button\r\n        onClick={() => {\r\n          setActive(prev => !prev);\r\n        }}\r\n      >\r\n        <img\r\n          src={!isActive ? \"img/profile2.png\" : \"img/profile.png\"}\r\n          alt=\"acount\"\r\n        />\r\n      </button>\r\n      {isActive ? (<form action=\"\" method=\"post\" enctype=\"multip\" onSubmit={(e) => login(e)}>\r\n        <span>Авторизация</span>\r\n        <input type=\"password\" placeholder=\"Пароль...\" name=\"pass\" />\r\n        <input type=\"submit\" value=\"Войти\" />\r\n      </form>) : null}\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default AuthForm;\r\n","import React from \"react\";\r\nimport Main from \"../Main/Main\";\r\nimport More from \"../More/More\";\r\nimport Navigation from \"../Navigation/Navigation\";\r\nimport AuthForm from \"../AuthForm/AuthForm\";\r\n\r\nfunction BaseComp({ isLoading, setLoad, themes, setLogged }) {\r\n  const [activeTheme, setActiveTheme] = React.useState(0);\r\n  const [activePlace, setActivePlace] = React.useState(0);\r\n  const [activePlaceContent, setActivePlaceContent] = React.useState(0);\r\n\r\n  React.useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        // const themes = await fetch(\"/arr\").then((data) => data.json());\r\n        const Theme = Math.floor(themes.length / 2);\r\n        const Place = Math.floor(themes[activeTheme].subtopics.length / 2);\r\n        const Content = themes[activeTheme].subtopics[activePlace] !== undefined ? Math.floor(themes[activeTheme].subtopics[activePlace].content.length / 2) : null;\r\n        // setThemes(themes);\r\n        setActiveTheme(Theme);\r\n        setActivePlace(Place);\r\n        setActivePlaceContent(Content);\r\n      } finally {\r\n        setLoad(false);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  // update states if themes load\r\n  React.useEffect(() => {\r\n    if (themes.length !== 0) {\r\n      return () => {\r\n        setActivePlaceContent(() =>\r\n        themes[activeTheme].subtopics[activePlace] !== undefined ? Math.floor(themes[activeTheme].subtopics[activePlace].content.length / 2) : null\r\n        );\r\n      };\r\n    }\r\n  }, [themes, activeTheme, activePlace]);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"toolbar\">\r\n      <Navigation themes={themes} setActiveTheme={setActiveTheme} setActivePlace={setActivePlace} setActivePlaceContent={setActivePlaceContent} setLoad={setLoad}/>\r\n      <AuthForm setLogged={setLogged}/>\r\n      </div>\r\n      <Main\r\n        themes={themes}\r\n        activeTheme={activeTheme}\r\n        setActiveTheme={setActiveTheme}\r\n        activePlace={activePlace}\r\n        setActivePlace={setActivePlace}\r\n        setActivePlaceContent={setActivePlaceContent}\r\n      />\r\n      <More\r\n        themes={themes}\r\n        activeTheme={activeTheme}\r\n        setActiveTheme={setActiveTheme}\r\n        activePlace={activePlace}\r\n        setActivePlace={setActivePlace}\r\n        activePlaceContent={activePlaceContent}\r\n        setActivePlaceContent={setActivePlaceContent}\r\n      />\r\n      <div className=\"copyright\"></div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default BaseComp;\r\n","import \"./App.css\";\nimport \"./AdminStyles.css\";\nimport React from \"react\";\nimport AdminDashboard from \"./components/AdminDashboard/AdminDashboard\";\nimport BaseComp from \"./components/BaseComp/BaseComp\";\nfunction App() {\n  // init states\n  const [array, setArray] = React.useState([]);\n\n  const [isLoading, setLoad] = React.useState(true);\n  const [isLogged, setLogged] = React.useState(false);\n\n  // loading themes and update states\n  React.useEffect(() => {\n    (async () => {\n      try {\n        let themes = await fetch(\"http://localhost:3000/arr\").then((data) => data.json()).catch((err) => {console.error(err)});\n        if (themes !== undefined) {\n          setArray(themes);  \n        }\n        else {\n          themes = await fetch(\"/arr\").then((data) => data.json());\n          setArray(themes);\n        }\n        \n      } finally {\n        setLoad(false);\n      }\n    })();\n  }, []);\n\n  return (\n    <React.Fragment>\n      {!isLoading ? (\n        !isLogged ? (\n          <div\n            className=\"App\"\n            onLoad={() => {\n              window.addEventListener(\"load\", () => setLoad(false));\n            }}\n          >\n            <BaseComp\n              isLoading={isLoading}\n              setLoad={setLoad}\n              themes={array}\n              // setThemes={setArray}\n              setLogged={setLogged}\n            />\n          </div>\n        ) : (\n          <AdminDashboard array={array} setArray={setArray} setLogged={setLogged}/>\n        )\n      ) : (\n        <img\n          id=\"loader\"\n          src={\"img/480px-Loader.gif\"}\n          alt={isLoading.toString()}\n        />\n      )}\n    </React.Fragment>\n  );\n}\n\nexport default App;\n","import React, { StrictMode } from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <StrictMode>\n      <App/>\n    </StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}